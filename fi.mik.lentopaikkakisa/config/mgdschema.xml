<?xml version="1.0" encoding="UTF-8"?>
<Schema xmlns="http://www.midgard-project.org/repligard/1.4">
    <type name="fi_mik_flight" table="fi_mik_flight"  parentfield="pilot">
        <property name="id" type="integer" primaryfield="id"/>
        
        <property name="start" type="integer"/>
        <property name="end" type="integer"/>

        <!-- Flight usually starts and ends at an airfield -->
        <property name="origin" type="string" link="org_routamc_positioning_aerodrome:icao" reverse="no"/>
        <property name="destination" type="string" link="org_routamc_positioning_aerodrome:icao" reverse="no"/>
        <!-- TODO: Add optional origin_other and destination_other fields linking to position log entries for seaplane flights -->
        
        <!-- Aircraft are bookable resources -->
        <property name="aircraft" type="integer" link="org_openpsa_calendar_resource:id" reverse="no"/>
        
        <!-- Only a single pilot can be a PIC during a flight -->
        <property name="pilot" parentfield="pilot" link="midgard_person:id" reverse="no" type="integer"/>
        
        <!-- In some cases it is important to know who operated the flight -->
        <property name="operator" link="org_openpsa_organization:id" reverse="no" type="integer"/>
        
        <!-- Collect some values for log booking -->
        <property name="scoreorigin" type="float"/>
        <property name="scoredestination" type="float"/>
        <property name="hours" type="float"/>

        <property name="description" type="text"/>

        <property name="tentative" type="boolean" />
        <property name="externalGuid" type="string" />
        
        <!-- Legacy 1.7 properties -->
        <property name="creator" link="midgard_person:id" reverse="no" type="integer"/>
        <property name="revisor" link="midgard_person:id" reverse="no" type="integer"/>
        <property name="locker" link="midgard_person:id" reverse="no" type="integer"/>
        <property name="revised" type="string"/>
        <property name="revision" type="integer"/>
        <property name="created" type="string"/>
        <property name="locked" type="string"/>
        <!-- /Legacy 1.7 properties -->
    </type>
</Schema>